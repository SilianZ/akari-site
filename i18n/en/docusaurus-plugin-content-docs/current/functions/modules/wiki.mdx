---
description: This module provides details of a specific page based on MediaWiki
slug: /wiki
---

# wiki

-   [开源]\(help/faq#Why some modules are not open sources)

This module provides details of a specific page based on a MediaWiki website.

## `wiki`

-   [公开](permissions)

Use：`~wiki [<Interwiki>:]<Page Name> [-l <Language>]`

Parameter：

-   `-l`：lookup for the corresponding language version of the page, return the current language if there is no result.

This command can ask for details on a specific page of a MediaWiki-based website.The interwiki left empty is the default wiki.

![](https://z1.ax1x.com/2023/11/18/piN0Tkq.png)

(Return Infobox Example)

Infobox's image will be rendered and displayed if the Infobox is present on the page.

:::warning

Some websites have been blacklisted, and some information on some sites cannot be obtained using this command.Even if the web is not blacklisted, the returned content will still be cloudable and intelligible.Don't die.

:::

## `wiki id`

-   [公开](permissions)

Use：`~wiki id [<Interwiki>:]<Page ID>`

This command can search for a wiki page based on the page ID.

The interwiki left empty is the default wiki.

:::warning

Some websites have been blacklisted, and some information on some sites cannot be obtained using this command.Even if the web is not blacklisted, the returned content will still be cloudable and intelligible.Don't die.

:::

## `wiki search`

-   [公开](permissions)

Use：`~wiki search <keyword>`

This command will search the Wiki page based on the keyword.

## `wiki random`

-   [公开](permissions)

Use：`~wiki random`

This command will randomly query the details of a website based on MediaWiki for a specific page.

## `wiki set`

-   [仅管理员](permissions)
-   Alias：`wiki_start_site`

Use：`~wiki set <wiki 域名/脚本路径>`

This command can set the default wiki when using the `wiki` command.Only one default wiki can be set for each group.

While links can directly fill Wiki URLs, robot auto detection may be wrong.

:::tip Script Path

"Script path" means a directory where the wiki is index.php, api.ph. ph. php.

-   On WMF websites (Wikipedia, WikiDictions), and Miraheze farms, this directory is `<Domain >/w/`.
-   On the English wiki of Fandom farm, this directory is in `<domain name>`.
-   On other languages of Fandom farm, this directory is in `<domain name>/<language code>/`.

If your wiki is self-constructed, or if your farm is not listed here, the following is the way to get a script path.

1.  Enter：`Special:Version` in the search box.
2.  After opening the page, slide down to find the second table.For Chinese wiki this form is called "Access Point URL".
3.  Find the second line of this table (in the case of Chinese for the wiki the table header of this line is “script path”) in the second column (in the case of Chinese the table in this column is “URL” in the case of Chinese wiki).Right-click this character and copy the link, that is the script path of this wiki.

:::

## `wiki iw`

-   [仅管理员](permissions)
-   Alias：`interwiki`

Usage：

-   Add a new interwiki：`~wiki iw add <Interwiki 名称> <Wiki 域名/脚本路径>`
-   Delete existing Interwiki：\`~wiki remove \<Interwiki 名称>
-   View the current setup wiki list：`~wiki list [legacy]`
-   Get API address：`~wiki get <Interwiki 名称>`

This command can set Interwiki when using the `wiki` command.Once set, the name of the Interwiki plus **English**colon (`:`) can be added to the front of the wiki when using `wiki`.

This command can set the Interwiki when using the Wiki command.Once set, the name of the Interwiki plus the English colon (:) can be added to the front when using the Wiki to get the contents of this Wiki.

While links can directly fill Wiki URLs, robot auto detection may be wrong.

:::tip Script Path

"Script path" means a directory where the wiki is index.php, api.ph. ph. php.

-   On WMF websites (Wikipedia, WikiDictions), and Miraheze farms, this directory is `<Domain >/w/`.
-   On the English wiki of Fandom farm, this directory is in `<domain name>`.
-   On other languages of Fandom farm, this directory is in `<domain name>/<language code>/`.

If your wiki is self-constructed, or if your farm is not listed here, the following is the way to get a script path.

1.  Enter：`Special:Version` in the search box.
2.  After opening the page, slide down to find the second table.For Chinese wiki this form is called "Access Point URL".
3.  Find the second line of this table (in the case of Chinese for the wiki the table header of this line is “script path”) in the second column (in the case of Chinese the table in this column is “URL” in the case of Chinese wiki).Right-click this character and copy the link, that is the script path of this wiki.

:::

## `wiki headers`

-   [仅管理员](permissions)

Usage：

-   Set new request header：`~wiki headers add <request header>`
-   Delete request header：`~wiki headers remove <header key name>`
-   Reset request header：`~wiki header reset`
-   View the current settings request header：`~wiki headers show`

This command is used to set the requested header when using the `wiki` command.Once set, each query wiki will be taken to this header.

If you do not know what this is useful, please do not disturb the settings or may result in an exception to the result.

:::info About grey wiki

In the face of recent attacks, we found that the grey machine had used “partially sealed sites” to some wiki by restricting the site to “dog heads” APP users only.Small can be affected but can be resolved by **\*US-Agent\`** of the pseudo-dog APP.Please run the following command：

```
~wiki headers ad {"user-agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X x.y; rv:42.0) Gecko/20100101 Firefox/42.0 Huijiapp/5"}
```

:::

## `wiki prefix`

-   [仅管理员](permissions)

Usage：

-   Set the new prefix：`~wiki prefix set <prefix>`
-   Reset prefix：`~wiki prefix reset`

This command is used to set auto-add prefix when using the `wiki` command.Once set, each query wiki will be asked with the previous prefix query.

## `wiki fandom`

-   [仅管理员](permissions)
-   [设置]\(/docs/help/reading#command type)

Use：`~wiki fandom`

This command can toggle whether Fandom Global Interwiki queries are enabled.

Fandom global query usage：

-   Command：`~wiki w:c:<Wiki 名>:[<Interwiki>]:<pagename>`
-   ：`[w:c:<Wiki 名>:[<Interwiki>]:<Page Name>]`

## `wiki redlink`

-   [仅管理员](permissions)
-   [设置]\(/docs/help/reading#command type)

Use：`~wiki redlink`

This command can toggle whether or not a page does not exist back to edit link.
